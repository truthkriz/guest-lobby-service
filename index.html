<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Guest Lobby Frontend</title>
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 2rem; }
      code, pre { background:#f6f8fa; padding: .4rem .6rem; border-radius: .4rem; }
      .ok { color: #137333; }
      .err { color: #B00020; }
      .card { border:1px solid #e5e7eb; border-radius:12px; padding:16px; max-width:760px; box-shadow: 0 2px 8px rgba(0,0,0,.04); }
      .row { margin:.75rem 0; }
      .btn { display:inline-block; padding:.6rem 1rem; border:1px solid #e5e7eb; border-radius:8px; cursor:pointer; text-decoration:none; }
    </style>
  </head>
  <body>
    <h1>Guest Lobby Frontend</h1>
    <div class="card">
      <div class="row">
        <strong>Backend base URL (proxied via Netlify):</strong>
        <div><code>/api</code> â†’ <code>Codespaces 8080</code> (set in <code>netlify.toml</code>)</div>
      </div>
      <div class="row">
        <button id="ping" class="btn">Test /guest/health</button>
      </div>
      <div class="row">
        <div id="out">Click the button to test.</div>
      </div>
    </div>

    <script>
      const out = document.getElementById('out');
      document.getElementById('ping').addEventListener('click', () => {
        out.textContent = 'Loading...';
        fetch('/api/guest/health', { headers: { 'Accept': 'application/json' } })
          .then(r => { if (!r.ok) throw new Error('HTTP ' + r.status); return r.json(); })
          .then(j => { out.innerHTML = '<span class="ok">OK</span> ' + JSON.stringify(j); })
          .catch(e => { out.innerHTML = '<span class="err">ERROR</span> ' + e; });
      });
    </script>
  </body>
</html>
